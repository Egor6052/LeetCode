#!/bin/bash

# Отримання CIDR маски підмережі
CIDR=$(ip addr show | grep 'inet ' | awk '{print $2}' | cut -d '/' -f 2)

if [ -z "$CIDR" ]; then
    echo "Unknown"
    exit 1
fi

# Функція для перетворення CIDR у маску підмережі
cidr_to_netmask() {
    local cidr=$1
    local mask
    case $cidr in
        0) mask="0.0.0.0" ;;
        1) mask="128.0.0.0" ;;
        2) mask="192.0.0.0" ;;
        3) mask="224.0.0.0" ;;
        4) mask="240.0.0.0" ;;
        5) mask="248.0.0.0" ;;
        6) mask="252.0.0.0" ;;
        7) mask="254.0.0.0" ;;
        8) mask="255.0.0.0" ;;
        9) mask="255.128.0.0" ;;
        10) mask="255.192.0.0" ;;
        11) mask="255.224.0.0" ;;
        12) mask="255.240.0.0" ;;
        13) mask="255.248.0.0" ;;
        14) mask="255.252.0.0" ;;
        15) mask="255.254.0.0" ;;
        16) mask="255.255.0.0" ;;
        17) mask="255.255.128.0" ;;
        18) mask="255.255.192.0" ;;
        19) mask="255.255.224.0" ;;
        20) mask="255.255.240.0" ;;
        21) mask="255.255.248.0" ;;
        22) mask="255.255.252.0" ;;
        23) mask="255.255.254.0" ;;
        24) mask="255.255.255.0" ;;
        25) mask="255.255.255.128" ;;
        26) mask="255.255.255.192" ;;
        27) mask="255.255.255.224" ;;
        28) mask="255.255.255.240" ;;
        29) mask="255.255.255.248" ;;
        30) mask="255.255.255.252" ;;
        31) mask="255.255.255.254" ;;
        32) mask="255.255.255.255" ;;
        *) mask="Unknown" ;;
    esac
    echo "$mask"
}

# Виклик функції для отримання маски підмережі
NETMASK=$(cidr_to_netmask $CIDR)
echo "$NETMASK"
